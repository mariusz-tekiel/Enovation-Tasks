<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <title>Task 1</title>    
</head>
<body>
    <div class="container">
        <!-- Menu container loaded by jQuery -->
        <div id="menu-container"></div>
        <h1>Keyword Search</h1>

        <div id="contentContainer">
            <div class="row">
                <div class="col-sm-4">
                    <label for="fullText">Full Text:</label><p>
                    <textarea id="fullText" rows="6"></textarea>
                </div>
                <div class="col-sm-4">
                    <label for="keywords">Keywords List:</label><p>
                    <textarea id="keywords" rows="6"></textarea>
                </div>
                <div class="col-sm-4">
                    <label for="keywords">Results:</label><p></p>
                    <div id="results"></div>
                        <pre id="contentContent"></pre> 
                    </div>
                </div>    
            </div>    
            <button id="searchBtn">Search</button>                      
        </div>        
        <div style="clear:both;"></div>        
    </div>

    <script>
        document.getElementById('searchBtn').addEventListener('click', function () {
            const fullText = document.getElementById('fullText').value;
            const keywordsInput = document.getElementById('keywords').value;
            const keywordsList = keywordsInput.split(',').map(line => line.trim());
            const results = [];

            keywordsList.forEach(keyword => {
                if (keyword.startsWith('mod_')) {
                    const moduleName = keyword.split(' ')[0];
                    if (fullText.includes(moduleName)) {
                        results.push(`${moduleName}, FOUND`);
                    } else {
                        results.push(`${moduleName}, NOT FOUND`);
                    }
                }
            });

            const resultsContainer = document.getElementById('results');
            resultsContainer.innerHTML = results.join('<br>');
        });
    
     //Load the external menu using jQuery    
        $(document).ready(function () {
            // Load the menu from an external file
            $("#menu-container").load("menu.html");
        });
    </script>
</body>
</html>